#N canvas 174 61 1192 666 12;
#X obj 17 213 inlet~;
#X obj 128 396 outlet~;
#N canvas 269 570 450 300 gainstage 0;
#X obj 37 30 inlet~;
#X obj 35 204 outlet~;
#X text 67 174 for now \, regular gain;
#X obj 91 65 + 100;
#X obj 91 113 pack f 20;
#X obj 91 137 line~;
#X obj 35 173 *~;
#X obj 91 41 r \$0-gain;
#X obj 91 89 dbtorms;
#X connect 0 0 6 0;
#X connect 3 0 8 0;
#X connect 4 0 5 0;
#X connect 5 0 6 1;
#X connect 6 0 1 0;
#X connect 7 0 3 0;
#X connect 8 0 4 0;
#X restore 17 243 pd gainstage;
#X obj 17 351 s \$0-inp-rms;
#X obj 17 324 - 100;
#N canvas 582 110 660 378 drywet-alg 0;
#X obj 125 47 r \$0-drywet;
#X obj 125 122 swap 1;
#X obj 125 146 -;
#X floatatom 125 170 5 0 0 0 - - - 0;
#X obj 125 71 pack f 50;
#X obj 125 95 line;
#X obj 125 197 pack f 20;
#X obj 125 221 line~;
#X obj 202 197 pack f 20;
#X obj 202 221 line~;
#X obj 125 301 outlet~;
#X obj 202 245 outlet~;
#X obj 125 270 *~;
#X obj 30 173 r \$0-cutinp;
#X obj 30 197 pack f 20;
#X obj 30 221 line~;
#X text 22 322 TODO: repeat cuts input off from delay and cuts direct signal. this might not be right - check if direct signal should still be present.;
#X text 201 126 simple amplitude preserving wet-dry;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 1 1 2 1;
#X connect 2 0 3 0;
#X connect 3 0 6 0;
#X connect 4 0 5 0;
#X connect 5 0 1 0;
#X connect 5 0 8 0;
#X connect 6 0 7 0;
#X connect 7 0 12 1;
#X connect 8 0 9 0;
#X connect 9 0 11 0;
#X connect 12 0 10 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 15 0 12 0;
#X restore 146 330 pd drywet-alg;
#X obj 128 368 *~;
#N canvas 193 38 856 663 delay-small-block 0;
#X obj 20 429 inlet~;
#X obj 175 377 clip~ 0 512;
#X obj 616 405 r \$0-fb;
#X obj 616 429 pack f 20;
#X obj 616 453 line~;
#X obj 32 556 outlet~;
#X obj 709 396 r \$0-fb-phase;
#X obj 709 420 select 0 1;
#X msg 709 448 1;
#X msg 743 448 -1;
#X obj 509 113 r \$0-lfo-rate;
#X obj 136 48 r \$0-step;
#X obj 136 72 - 1;
#X obj 136 96 swap 2;
#X obj 136 120 pow;
#X obj 136 215 * 1;
#X obj 208 48 r \$0-scale;
#X obj 208 72 select 0 1 2, f 21;
#X msg 239 161 4;
#X msg 287 161 2;
#X msg 335 161 1;
#X obj 175 267 pack f 20;
#X obj 175 291 line~;
#X obj 208 97 t b b;
#X obj 256 97 t b b;
#X obj 304 97 t b b;
#X text 14 405 INLET;
#X obj 20 462 *~;
#X obj 83 379 r \$0-cutinp;
#X obj 83 403 pack f 20;
#X obj 83 427 line~;
#X obj 617 113 r \$0-lfo-shape;
#X obj 175 241 r \$0-delay-factor;
#X obj 175 349 *~ 1;
#X obj 399 113 r \$0-lfo-width;
#X msg 511 186 \$1 20;
#X obj 511 259 *~ 0.375;
#X obj 511 283 +~ 0.625;
#X msg 393 253 \$1 20;
#X obj 393 277 line~;
#X obj 511 210 line~;
#X obj 175 318 expr~ (1 - $v2)*$v1 + $v2*$v3;
#X obj 399 138 float;
#X obj 509 137 select 0;
#X obj 562 164 t b f;
#X msg 471 171 0;
#X obj 617 137 * 2;
#X obj 617 185 line~;
#X obj 511 234 dl4-lfo2;
#X msg 617 161 \$1 50;
#N canvas 730 229 782 361 delreadwrite 0;
#X obj 35 20 inlet~;
#X obj 125 296 outlet~;
#X obj 35 44 dl4-bitc 14;
#X obj 190 296 delwrite~ \$0-delayline 512;
#X obj 130 44 delread4~ \$0-delayline 100;
#X obj 130 17 inlet~;
#X obj 130 68 dl4-bitc 14;
#X obj 131 127 hip~ 20;
#X obj 131 151 lop~ 15000;
#X obj 132 189 *~ 1;
#X obj 178 217 *~;
#X obj 178 241 *~ 1;
#X obj 368 146 inlet;
#X text 367 125 delay phase;
#X obj 390 178 inlet~;
#X obj 406 214 inlet;
#X text 447 213 fb phase;
#X text 420 154 fb amt;
#X obj 279 15 block~ 1;
#X obj 193 98 inlet;
#X obj 243 124 inlet~;
#X text 239 98 TODO: much better filters;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 4 0 6 0;
#X connect 5 0 4 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 1 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 3 0;
#X connect 12 0 9 1;
#X connect 14 0 10 1;
#X connect 15 0 11 1;
#X connect 19 0 7 1;
#X connect 20 0 8 1;
#X restore 62 504 pd delreadwrite;
#X f 96;
#X obj 286 366 r \$0-lowcut;
#X obj 286 390 select 0 1;
#X msg 325 417 175;
#X obj 286 468 line;
#X obj 286 444 pack f 100;
#X obj 395 376 select 0 1;
#X obj 395 352 r \$0-highcut;
#X msg 395 403 15000;
#X msg 446 403 3300;
#X obj 395 430 pack f 20;
#X obj 395 454 line~;
#X obj 488 401 r \$0-del-phase;
#X obj 488 425 select 0 1;
#X msg 488 451 1;
#X msg 521 451 -1;
#X msg 286 417 16;
#X connect 0 0 27 0;
#X connect 1 0 50 1;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 50 5;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 50 6;
#X connect 9 0 50 6;
#X connect 10 0 43 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 13 1 14 1;
#X connect 14 0 15 0;
#X connect 15 0 33 1;
#X connect 16 0 17 0;
#X connect 17 0 23 0;
#X connect 17 1 24 0;
#X connect 17 2 25 0;
#X connect 18 0 15 1;
#X connect 19 0 15 1;
#X connect 20 0 15 1;
#X connect 21 0 22 0;
#X connect 22 0 41 0;
#X connect 23 0 15 0;
#X connect 23 1 18 0;
#X connect 24 0 15 0;
#X connect 24 1 19 0;
#X connect 25 0 15 0;
#X connect 25 1 20 0;
#X connect 27 0 50 0;
#X connect 28 0 29 0;
#X connect 29 0 30 0;
#X connect 30 0 27 1;
#X connect 31 0 46 0;
#X connect 32 0 21 0;
#X connect 33 0 1 0;
#X connect 34 0 42 0;
#X connect 35 0 40 0;
#X connect 36 0 37 0;
#X connect 37 0 41 2;
#X connect 38 0 39 0;
#X connect 39 0 41 1;
#X connect 40 0 48 0;
#X connect 41 0 33 0;
#X connect 42 0 38 0;
#X connect 43 0 45 0;
#X connect 43 1 44 0;
#X connect 44 0 42 0;
#X connect 44 1 35 0;
#X connect 45 0 38 0;
#X connect 46 0 49 0;
#X connect 47 0 48 1;
#X connect 48 0 36 0;
#X connect 49 0 47 0;
#X connect 50 0 5 0;
#X connect 51 0 52 0;
#X connect 52 0 66 0;
#X connect 52 1 53 0;
#X connect 53 0 55 0;
#X connect 54 0 50 2;
#X connect 55 0 54 0;
#X connect 56 0 58 0;
#X connect 56 1 59 0;
#X connect 57 0 56 0;
#X connect 58 0 60 0;
#X connect 59 0 60 0;
#X connect 60 0 61 0;
#X connect 61 0 50 3;
#X connect 62 0 63 0;
#X connect 63 0 64 0;
#X connect 63 1 65 0;
#X connect 64 0 50 4;
#X connect 65 0 50 4;
#X connect 66 0 55 0;
#X restore 252 281 pd delay-small-block;
#X obj 234 364 *~;
#N canvas 754 381 580 363 init 0;
#X msg 179 117 0.5;
#X obj 179 141 s \$0-drywet-gui;
#X msg 35 49 2;
#X obj 35 73 s \$0-scale-gui;
#X msg 56 104 1;
#X obj 56 128 s \$0-step-gui;
#X obj 25 5 inlet;
#X msg 173 56 0;
#X obj 173 80 s \$0-gain-gui;
#X obj 172 13 r \$0-unity-gain;
#X msg 18 154 0;
#X obj 15 221 s \$0-fb-phase-gui;
#X obj 26 192 s \$0-highcut-gui;
#X obj 159 189 s \$0-lowcut-gui;
#X obj 157 216 s \$0-repeat-gui;
#X obj 300 84 s \$0-df-slider-gui;
#X msg 300 60 1;
#X msg 301 115 0.5;
#X msg 298 189 0;
#X obj 301 139 s \$0-lfo-shape-gui;
#X obj 320 239 s \$0-lfo-rate-gui;
#X obj 298 213 s \$0-lfo-width-gui;
#X obj 36 253 s \$0-fb-gui;
#X connect 0 0 1 0;
#X connect 2 0 3 0;
#X connect 4 0 5 0;
#X connect 6 0 0 0;
#X connect 6 0 2 0;
#X connect 6 0 4 0;
#X connect 6 0 7 0;
#X connect 6 0 10 0;
#X connect 6 0 16 0;
#X connect 6 0 17 0;
#X connect 6 0 18 0;
#X connect 7 0 8 0;
#X connect 9 0 7 0;
#X connect 10 0 11 0;
#X connect 10 0 12 0;
#X connect 10 0 13 0;
#X connect 10 0 14 0;
#X connect 10 0 22 0;
#X connect 16 0 15 0;
#X connect 17 0 19 0;
#X connect 18 0 21 0;
#X connect 18 0 20 0;
#X restore 826 82 pd init;
#X obj 826 52 loadbang;
#X obj 896 54 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 11 50 cnv 19 800 150 empty empty empty 20 12 0 12 #2cbeff #404040 0;
#X obj 768 73 vsl 19 80 0 1 0 0 \$0-drywet \$0-drywet-gui drywet -10 -12 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 12 57 cnv 19 140 130 empty empty empty 20 12 0 12 #00faff #404040 0;
#X obj 22 62 vu 19 120 \$0-inp-rms empty -1 -10 0 12 #404040 #000000 1 0;
#X obj 89 79 vsl 19 100 -20 20 0 0 \$0-gain \$0-gain-gui gain -5 -12 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 116 77 bng 19 250 50 0 \$0-unity-gain \$0-unity-gain-gui unity 0 -10 0 12 #fcfcfc #000000 #000000;
#N canvas 352 256 845 351 delay-time-gui 0;
#X obj 148 22 r \$0-scale;
#X obj 59 23 r \$0-step;
#X obj 60 154 +;
#X obj 60 206 s \$0-delay-time-gui;
#X obj 60 179 - 1;
#X obj 148 46 select 0 1 2, f 15;
#X msg 148 74 2;
#X msg 181 74 1;
#X msg 215 74 0;
#X obj 148 106 t b f;
#X obj 284 24 r \$0-repeat;
#X obj 284 48 select 1 0;
#X obj 283 138 s \$0-fb;
#X obj 438 115 s \$0-fb-gui;
#X text 307 217 TODO: set eq?;
#X obj 315 168 s \$0-cutinp;
#X obj 406 142 s \$0-cutinp;
#X obj 284 79 t b b;
#X obj 406 84 t b b;
#X msg 283 112 1;
#X msg 316 113 0;
#X msg 406 115 1;
#X obj 532 42 s \$0-delay-factor-disp;
#X obj 532 15 r \$0-delay-factor;
#X obj 532 69 r \$0-lfo-shape;
#X obj 532 96 s \$0-lfo-shape-disp;
#X obj 680 248 s \$0-lfo-width-disp;
#X obj 532 273 s \$0-lfo-rate-disp;
#X obj 532 177 r \$0-lfo-rate-lin;
#X obj 543 250 s \$0-lfo-rate;
#X obj 532 225 * 10;
#X obj 532 201 pow 2.5;
#X obj 672 202 pow 2.5;
#X obj 672 178 r \$0-lfo-width-lin;
#X obj 673 275 s \$0-lfo-width;
#X connect 0 0 5 0;
#X connect 1 0 2 0;
#X connect 2 0 4 0;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 5 1 7 0;
#X connect 5 2 8 0;
#X connect 6 0 9 0;
#X connect 7 0 9 0;
#X connect 8 0 9 0;
#X connect 9 0 2 0;
#X connect 9 1 2 1;
#X connect 10 0 11 0;
#X connect 11 0 17 0;
#X connect 11 1 18 0;
#X connect 17 0 19 0;
#X connect 17 1 20 0;
#X connect 18 0 21 0;
#X connect 18 1 13 0;
#X connect 19 0 12 0;
#X connect 20 0 15 0;
#X connect 21 0 16 0;
#X connect 23 0 22 0;
#X connect 24 0 25 0;
#X connect 28 0 31 0;
#X connect 30 0 29 0;
#X connect 30 0 27 0;
#X connect 31 0 30 0;
#X connect 32 0 26 0;
#X connect 32 0 34 0;
#X connect 33 0 32 0;
#X restore 826 109 pd delay-time-gui;
#X obj 158 57 cnv 19 340 130 empty empty empty 20 12 0 12 #00faff #404040 0;
#X obj 181 77 vradio 19 1 0 3 \$0-scale \$0-scale-gui scale -7 -10 0 12 #fcfcfc #000000 #000000 0;
#X obj 215 77 nbx 5 17 1 8 0 0 \$0-step \$0-step-gui delay-step 0 -10 0 12 #fcfcfc #000000 #000000 0 256;
#X text 160 78 4;
#X text 160 98 2;
#X text 160 117 1;
#X obj 174 160 tgl 19 0 \$0-repeat \$0-repeat-gui repeat -10 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 213 124 hradio 28 1 0 10 \$0-delay-time-dummy \$0-delay-time-gui delay-time-ms\ (display\ only) 0 -10 0 12 #fcfcfc #000000 #000000 0;
#X text 222 155 1;
#X text 250 155 2;
#X text 277 155 4;
#X text 306 155 8;
#X text 330 155 16;
#X text 359 155 32;
#X text 387 155 64;
#X text 412 155 128;
#X text 440 155 256;
#X text 468 155 512;
#X obj 505 57 cnv 19 102 130 empty empty empty 20 12 0 12 #00faff #404040 0;
#X obj 516 77 tgl 19 0 \$0-lowcut \$0-lowcut-gui lo-cut -10 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 516 120 tgl 19 0 \$0-highcut \$0-highcut-gui hi-cut -10 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 516 166 tgl 19 0 \$0-fb-phase \$0-fb-phase-gui fb-phase -12 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 570 76 vsl 19 100 0 0.99 0 0 \$0-fb \$0-fb-gui feedback -20 -9 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 611 58 cnv 19 130 130 empty empty empty 20 12 0 12 #00faff #404040 0;
#X obj 617 75 hsl 50 19 0.25 1 0 0 \$0-delay-factor \$0-df-slider-gui del-fact -2 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 616 99 nbx 4 17 0.25 1 0 0 empty \$0-delay-factor-disp empty 0 -10 0 12 #fcfcfc #000000 #000000 0 256;
#X obj 617 140 hsl 50 19 0 1 0 0 \$0-lfo-width-lin \$0-lfo-width-gui lfo-width -5 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 616 164 nbx 4 17 0 1 0 0 empty \$0-lfo-width-disp empty 0 -10 0 12 #fcfcfc #000000 #000000 0 256;
#X obj 682 76 hsl 50 19 0 1 0 0 \$0-lfo-shape \$0-lfo-shape-gui lfo-shape -5 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 681 100 nbx 4 17 0 1 0 0 empty \$0-lfo-shape-disp empty 0 -10 0 12 #fcfcfc #000000 #000000 0 256;
#X obj 681 140 hsl 50 19 0 1 0 0 \$0-lfo-rate-lin \$0-lfo-rate-gui lfo-rate -4 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 680 164 nbx 4 17 0 10 0 0 empty \$0-lfo-rate-disp empty 0 -10 0 12 #fcfcfc #000000 #000000 0 256;
#X obj 767 175 tgl 19 0 \$0-phase \$0-phase-gui del-phase -22 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 864 222 inlet;
#X text 863 198 parameter changes;
#N canvas 262 288 924 512 parameter_routing 1;
#X obj 37 5 inlet;
#X obj 37 168 s \$0-gain-gui;
#X msg 91 226 2;
#X msg 122 226 1;
#X msg 154 226 0;
#X obj 91 198 select 1 2 4, f 13;
#X obj 91 260 s \$0-scale-gui;
#X obj 146 290 clip 0 1;
#X obj 146 314 s \$0-repeat-gui;
#X obj 37 138 clip -20 20;
#X obj 198 137 clip 1 8;
#X obj 198 161 int;
#X obj 258 283 clip 0 1;
#X obj 308 364 clip 0 1;
#X obj 258 331 s \$0-lowcut-gui;
#X obj 308 414 s \$0-highcut-gui;
#X obj 359 137 clip 0 1;
#X obj 308 389 int;
#X obj 258 307 int;
#X obj 359 161 int;
#X obj 359 185 s \$0-fb-phase-gui;
#X obj 415 258 clip 0.25 1;
#X obj 415 282 s \$0-df-slider-gui;
#X obj 467 136 clip 0 1;
#X obj 467 160 s \$0-lfo-shape-gui;
#X obj 522 191 clip 0 1;
#X obj 522 215 s \$0-lfo-width-gui;
#X obj 575 269 s \$0-lfo-rate-gui;
#X obj 628 140 clip 0 1;
#X obj 628 164 s \$0-drywet-gui;
#X obj 683 190 clip 0 1;
#X obj 693 214 int;
#X obj 683 238 s \$0-phase-gui;
#X obj 198 185 s \$0-step-gui;
#X obj 37 110 route gain scale repeat step lowcut highcut fbphase delfact lfoshape lfowidth lforate drywet delphase fb, f 108;
#X obj 738 276 clip 0 0.99;
#X obj 738 300 s \$0-fb-gui;
#X obj 37 59 s \$0-reset;
#X obj 37 29 route init;
#X obj 575 245 clip 0 1;
#X connect 0 0 38 0;
#X connect 2 0 6 0;
#X connect 3 0 6 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 5 1 3 0;
#X connect 5 2 4 0;
#X connect 7 0 8 0;
#X connect 9 0 1 0;
#X connect 10 0 11 0;
#X connect 11 0 33 0;
#X connect 12 0 18 0;
#X connect 13 0 17 0;
#X connect 16 0 19 0;
#X connect 17 0 15 0;
#X connect 18 0 14 0;
#X connect 19 0 20 0;
#X connect 21 0 22 0;
#X connect 23 0 24 0;
#X connect 25 0 26 0;
#X connect 28 0 29 0;
#X connect 30 0 31 0;
#X connect 31 0 32 0;
#X connect 34 0 9 0;
#X connect 34 1 5 0;
#X connect 34 2 7 0;
#X connect 34 3 10 0;
#X connect 34 4 12 0;
#X connect 34 5 13 0;
#X connect 34 6 16 0;
#X connect 34 7 21 0;
#X connect 34 8 23 0;
#X connect 34 9 25 0;
#X connect 34 10 39 0;
#X connect 34 11 28 0;
#X connect 34 12 30 0;
#X connect 34 13 35 0;
#X connect 35 0 36 0;
#X connect 38 0 37 0;
#X connect 38 1 34 0;
#X connect 39 0 27 0;
#X restore 864 246 pd parameter_routing;
#X text 790 137 d;
#X text 790 69 w;
#X obj 896 27 r \$0-reset;
#X obj 17 300 env~ 512;
#X connect 0 0 2 0;
#X connect 2 0 7 0;
#X connect 2 0 6 0;
#X connect 2 0 58 0;
#X connect 4 0 3 0;
#X connect 5 0 6 1;
#X connect 5 1 8 0;
#X connect 6 0 1 0;
#X connect 7 0 8 1;
#X connect 8 0 1 0;
#X connect 10 0 9 0;
#X connect 11 0 9 0;
#X connect 52 0 54 0;
#X connect 57 0 11 0;
#X connect 58 0 4 0;
#X coords 0 -1 1 1 800 152 2 10 48;
